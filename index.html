<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Стася 365 - Портал Зверяндии</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary-color: #5D3FD3;
            --secondary-color: #FF6B9D;
            --accent-color: #FFD166;
            --success-color: #06D6A0;
            --dragon-color: #FF8E53;
            --rabbit-color: #A78BFA;
            --dark-color: #1A1A2E;
            --light-color: #F8F9FF;
            --card-bg: rgba(255, 255, 255, 0.95);
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            --shadow-hover: 0 15px 35px rgba(93, 63, 211, 0.15);
            --gradient-primary: linear-gradient(135deg, #5D3FD3 0%, #9D4EDD 100%);
            --gradient-secondary: linear-gradient(135deg, #FF6B9D 0%, #FF8E6B 100%);
            --gradient-accent: linear-gradient(135deg, #FFD166 0%, #FFB347 100%);
            --gradient-dragon: linear-gradient(135deg, #FF8E53 0%, #FF6B6B 100%);
            --gradient-rabbit: linear-gradient(135deg, #A78BFA 0%, #7E69AB 100%);
            --gradient-bg: linear-gradient(135deg, #F8F9FF 0%, #E6E9FF 100%);
        }
        
        body {
            background: var(--gradient-bg);
            color: var(--dark-color);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Стили для шапки */
        header {
            background: var(--gradient-primary);
            color: white;
            padding: 1.2rem 2.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 5px 20px rgba(93, 63, 211, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            height: 55px;
            width: 55px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .logo-icon i {
            font-size: 28px;
            color: var(--primary-color);
        }
        
        .logo-text h1 {
            font-size: 1.8rem;
            font-weight: 800;
            letter-spacing: -0.5px;
        }
        
        .logo-text span {
            color: var(--accent-color);
            font-weight: 900;
        }
        
        .logo-text p {
            font-size: 0.85rem;
            opacity: 0.9;
            margin-top: 2px;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            padding: 10px 18px;
            border-radius: 50px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
        }
        
        nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(-100%);
            transition: transform 0.4s ease;
        }
        
        nav a:hover::before {
            transform: translateX(0);
        }
        
        nav a:hover, nav a.active {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        
        nav i {
            font-size: 1.1rem;
        }
        
        /* Контейнер с основным содержимым */
        .container {
            display: flex;
            min-height: calc(100vh - 85px);
        }
        
        /* Боковая панель */
        .sidebar {
            width: 280px;
            background: var(--card-bg);
            padding: 2rem 1.5rem;
            box-shadow: 5px 0 15px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(10px);
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            box-shadow: 0 5px 15px rgba(93, 63, 211, 0.3);
        }
        
        .user-info h3 {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark-color);
        }
        
        .user-info p {
            font-size: 0.85rem;
            color: #666;
            margin-top: 3px;
        }
        
        .app-list {
            list-style: none;
            flex-grow: 1;
        }
        
        .app-list li {
            margin-bottom: 8px;
        }
        
        .app-list a {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 16px 20px;
            text-decoration: none;
            color: var(--dark-color);
            border-radius: 12px;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }
        
        .app-list a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--primary-color);
            transform: translateX(-10px);
            transition: transform 0.3s ease;
        }
        
        .app-list a:hover::before, .app-list a.active::before {
            transform: translateX(0);
        }
        
        .app-list a:hover, .app-list a.active {
            background: rgba(93, 63, 211, 0.08);
            color: var(--primary-color);
            transform: translateX(5px);
        }
        
        .app-list i {
            font-size: 1.2rem;
            width: 25px;
            text-align: center;
        }
        
        .app-badge {
            margin-left: auto;
            background: var(--gradient-secondary);
            color: white;
            font-size: 0.75rem;
            padding: 3px 8px;
            border-radius: 20px;
            font-weight: 600;
        }
        
        /* Основной контент */
        .main-content {
            flex: 1;
            padding: 2.5rem;
            overflow-y: auto;
        }
        
        .app-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .app-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Заголовок раздела */
        .app-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid rgba(93, 63, 211, 0.1);
        }
        
        .app-header h2 {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary-color);
            position: relative;
            padding-left: 15px;
        }
        
        .app-header h2::before {
            content: '';
            position: absolute;
            left: 0;
            top: 5px;
            width: 5px;
            height: 80%;
            background: var(--gradient-accent);
            border-radius: 5px;
        }
        
        .app-actions {
            display: flex;
            gap: 15px;
        }
        
        /* Кнопки */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
        }
        
        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: 0 5px 15px rgba(93, 63, 211, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(93, 63, 211, 0.4);
        }
        
        .btn-secondary {
            background: var(--card-bg);
            color: var(--primary-color);
            border: 2px solid rgba(93, 63, 211, 0.2);
        }
        
        .btn-secondary:hover {
            background: rgba(93, 63, 211, 0.05);
            border-color: rgba(93, 63, 211, 0.4);
        }
        
        .btn-accent {
            background: var(--gradient-accent);
            color: var(--dark-color);
            box-shadow: 0 5px 15px rgba(255, 209, 102, 0.3);
        }
        
        .btn-accent:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 209, 102, 0.4);
        }
        
        /* Главная страница */
        .welcome-section {
            background: var(--gradient-primary);
            border-radius: 20px;
            padding: 3rem;
            color: white;
            margin-bottom: 3rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }
        
        .welcome-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
        
        .welcome-section::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -10%;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }
        
        .welcome-content {
            position: relative;
            z-index: 2;
        }
        
        .welcome-content h3 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }
        
        .welcome-content p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 600px;
            margin-bottom: 2rem;
        }
        
        .characters-showcase {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .character-card {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            flex: 1;
            min-width: 200px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .character-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }
        
        .character-card.dog .character-icon {
            color: var(--accent-color);
        }
        
        .character-card.dragon .character-icon {
            color: var(--dragon-color);
        }
        
        .character-card.rabbit .character-icon {
            color: var(--rabbit-color);
        }
        
        .character-card h4 {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        
        .character-card p {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 2rem;
        }
        
        .feature-card {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.03);
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
        }
        
        .feature-icon {
            width: 70px;
            height: 70px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            color: white;
        }
        
        .feature-card:nth-child(1) .feature-icon {
            background: var(--gradient-primary);
        }
        
        .feature-card:nth-child(2) .feature-icon {
            background: var(--gradient-secondary);
        }
        
        .feature-card:nth-child(3) .feature-icon {
            background: var(--gradient-accent);
        }
        
        .feature-card h4 {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 0.8rem;
            color: var(--dark-color);
        }
        
        .feature-card p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }
        
        /* Калькулятор */
        .calculator-container {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }
        
        .calculator-display {
            flex: 1;
            min-width: 350px;
        }
        
        .calculator-screen {
            background: var(--dark-color);
            color: white;
            padding: 25px;
            border-radius: 18px;
            text-align: right;
            margin-bottom: 25px;
            min-height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
            font-family: 'Courier New', monospace;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .calculation {
            font-size: 1.3rem;
            color: #aaa;
            word-break: break-all;
            min-height: 30px;
        }
        
        .result {
            font-size: 3rem;
            font-weight: bold;
            word-break: break-all;
            color: var(--accent-color);
        }
        
        .calculator-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }
        
        .calc-btn {
            padding: 22px 10px;
            font-size: 1.4rem;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: var(--card-bg);
            color: var(--dark-color);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.05);
        }
        
        .calc-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        
        .calc-btn.operator {
            background: var(--gradient-primary);
            color: white;
        }
        
        .calc-btn.operator:hover {
            background: linear-gradient(135deg, #4a30c0 0%, #8c40d0 100%);
        }
        
        .calc-btn.equals {
            background: var(--gradient-accent);
            color: var(--dark-color);
            grid-column: span 2;
        }
        
        .calc-btn.equals:hover {
            background: linear-gradient(135deg, #ffc145 0%, #ff9e3d 100%);
        }
        
        .calc-btn.clear {
            background: var(--gradient-secondary);
            color: white;
        }
        
        .calc-btn.clear:hover {
            background: linear-gradient(135deg, #ff5a8f 0%, #ff7c5a 100%);
        }
        
        .calculator-history {
            flex: 1;
            min-width: 350px;
        }
        
        .history-title {
            margin-bottom: 20px;
            color: var(--primary-color);
            font-size: 1.4rem;
            font-weight: 700;
        }
        
        .history-list {
            list-style: none;
            max-height: 400px;
            overflow-y: auto;
            background: var(--card-bg);
            border-radius: 18px;
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(0, 0, 0, 0.03);
        }
        
        .history-item {
            padding: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            border-radius: 10px;
        }
        
        .history-item:hover {
            background: rgba(93, 63, 211, 0.05);
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
        
        .history-expression {
            font-weight: 600;
            color: var(--dark-color);
        }
        
        .history-result {
            color: var(--primary-color);
            font-weight: 700;
            font-size: 1.1rem;
        }
        
        .history-time {
            color: #888;
            font-size: 0.85rem;
        }
        
        /* Заметки */
        .notes-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
        }
        
        .note {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 25px;
            box-shadow: var(--shadow);
            position: relative;
            border-left: 6px solid var(--accent-color);
            min-height: 250px;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.03);
        }
        
        .note:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }
        
        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }
        
        .note-title {
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--dark-color);
            padding-bottom: 8px;
            width: 80%;
            border-bottom: 2px solid rgba(93, 63, 211, 0.1);
        }
        
        .note-date {
            font-size: 0.85rem;
            color: #777;
            background: rgba(0, 0, 0, 0.03);
            padding: 5px 10px;
            border-radius: 20px;
        }
        
        .note-content {
            flex-grow: 1;
            margin-bottom: 25px;
            line-height: 1.7;
            color: #555;
        }
        
        .note-actions {
            display: flex;
            gap: 10px;
            margin-top: auto;
        }
        
        .note-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 7px;
        }
        
        .note-btn.edit {
            background: rgba(93, 63, 211, 0.1);
            color: var(--primary-color);
        }
        
        .note-btn.edit:hover {
            background: rgba(93, 63, 211, 0.2);
        }
        
        .note-btn.delete {
            background: rgba(255, 107, 157, 0.1);
            color: var(--secondary-color);
        }
        
        .note-btn.delete:hover {
            background: rgba(255, 107, 157, 0.2);
        }
        
        .add-note-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 15px;
            background: var(--card-bg);
            color: var(--primary-color);
            border: 2px dashed rgba(93, 63, 211, 0.3);
            border-radius: 18px;
            padding: 30px 20px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 250px;
        }
        
        .add-note-btn:hover {
            background: rgba(93, 63, 211, 0.05);
            border-color: rgba(93, 63, 211, 0.6);
            transform: translateY(-5px);
        }
        
        .add-note-btn i {
            font-size: 2.5rem;
            color: var(--primary-color);
        }
        
        /* Новости */
        .news-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .news-article {
            background: var(--card-bg);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
            display: flex;
            flex-wrap: wrap;
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.03);
        }
        
        .news-article:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }
        
        .news-image {
            flex: 1;
            min-width: 320px;
            height: 280px;
            overflow: hidden;
        }
        
        .news-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .news-article:hover .news-image img {
            transform: scale(1.05);
        }
        
        .news-content {
            flex: 2;
            min-width: 320px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .news-title {
            font-size: 1.7rem;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-weight: 800;
            line-height: 1.3;
        }
        
        .news-meta {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            color: #777;
            font-size: 0.9rem;
        }
        
        .news-meta span {
            display: flex;
            align-items: center;
            gap: 7px;
        }
        
        .news-meta i {
            color: var(--primary-color);
        }
        
        .news-text {
            line-height: 1.7;
            margin-bottom: 25px;
            color: #555;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .news-full-text {
            display: none;
            line-height: 1.7;
            margin-bottom: 25px;
            color: #555;
        }
        
        .read-more {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--gradient-primary);
            color: white;
            padding: 12px 25px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            align-self: flex-start;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(93, 63, 211, 0.3);
            cursor: pointer;
            border: none;
            font-family: inherit;
        }
        
        .read-more:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(93, 63, 211, 0.4);
            gap: 12px;
        }
        
        /* Погода */
        .weather-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .weather-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.03);
        }
        
        .weather-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }
        
        .weather-card.main {
            background: var(--gradient-primary);
            color: white;
        }
        
        .weather-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 25px;
        }
        
        .weather-location h3 {
            font-size: 1.6rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .weather-date {
            opacity: 0.8;
            font-size: 0.95rem;
        }
        
        .weather-icon {
            font-size: 3.5rem;
        }
        
        .weather-temp {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 10px;
        }
        
        .weather-desc {
            font-size: 1.2rem;
            margin-bottom: 25px;
            opacity: 0.9;
        }
        
        .weather-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: auto;
        }
        
        .detail-item {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .detail-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .weather-card:not(.main) .detail-icon {
            background: rgba(93, 63, 211, 0.08);
            color: var(--primary-color);
        }
        
        .detail-info h4 {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 3px;
        }
        
        .detail-info p {
            font-size: 1.3rem;
            font-weight: 700;
        }
        
        .forecast-container {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding: 10px 5px;
            margin-top: 20px;
        }
        
        .forecast-day {
            min-width: 120px;
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }
        
        .forecast-day:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }
        
        .forecast-day-name {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .forecast-icon {
            font-size: 2.5rem;
            margin: 10px 0;
            color: var(--primary-color);
        }
        
        .forecast-temp {
            font-weight: 700;
            font-size: 1.5rem;
            margin-top: 5px;
        }
        
        .forecast-desc {
            font-size: 0.75rem;
            color: #666;
            margin-top: 5px;
            text-align: center;
        }
        
        /* Календарь */
        .calendar-container {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(0, 0, 0, 0.03);
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .calendar-month {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        
        .calendar-nav {
            display: flex;
            gap: 15px;
        }
        
        .calendar-nav button {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            background: rgba(93, 63, 211, 0.08);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--primary-color);
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }
        
        .calendar-nav button:hover {
            background: rgba(93, 63, 211, 0.15);
        }
        
        .calendar-weekdays, .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }
        
        .calendar-weekdays div {
            text-align: center;
            font-weight: 700;
            color: var(--primary-color);
            padding: 15px 0;
        }
        
        .calendar-days div {
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            position: relative;
        }
        
        .calendar-days div:hover {
            background: rgba(93, 63, 211, 0.08);
        }
        
        .calendar-days div.today {
            background: var(--gradient-primary);
            color: white;
            box-shadow: 0 5px 15px rgba(93, 63, 211, 0.3);
        }
        
        .calendar-days div.event::after {
            content: '';
            position: absolute;
            bottom: 10px;
            width: 6px;
            height: 6px;
            background: var(--secondary-color);
            border-radius: 50%;
        }
        
        .calendar-events {
            margin-top: 30px;
        }
        
        .event-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: rgba(93, 63, 211, 0.05);
            border-radius: 12px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }
        
        .event-item:hover {
            background: rgba(93, 63, 211, 0.1);
        }
        
        .event-time {
            font-weight: 700;
            color: var(--primary-color);
            min-width: 70px;
        }
        
        .event-title {
            font-weight: 600;
            flex-grow: 1;
        }
        
        /* Контакты */
        .contacts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .contact-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.03);
        }
        
        .contact-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }
        
        .contact-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            margin-bottom: 20px;
            box-shadow: 0 10px 20px rgba(93, 63, 211, 0.3);
        }
        
        .contact-card.dog .contact-avatar {
            background: var(--gradient-accent);
        }
        
        .contact-card.dragon .contact-avatar {
            background: var(--gradient-dragon);
        }
        
        .contact-card.rabbit .contact-avatar {
            background: var(--gradient-rabbit);
        }
        
        .contact-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--dark-color);
        }
        
        .contact-role {
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 20px;
            padding: 5px 15px;
            background: rgba(93, 63, 211, 0.08);
            border-radius: 20px;
        }
        
        .contact-info {
            margin-top: 20px;
            width: 100%;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .contact-item:last-child {
            border-bottom: none;
        }
        
        .contact-item i {
            color: var(--primary-color);
            width: 25px;
        }
        
        /* Модальное окно */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }
        
        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: var(--card-bg);
            padding: 2.5rem;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid rgba(93, 63, 211, 0.1);
        }
        
        .modal-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary-color);
        }
        
        .close-modal {
            background: rgba(93, 63, 211, 0.1);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--primary-color);
            transition: all 0.3s ease;
        }
        
        .close-modal:hover {
            background: rgba(93, 63, 211, 0.2);
        }
        
        .form-group {
            margin-bottom: 1.8rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.8rem;
            font-weight: 600;
            color: var(--dark-color);
        }
        
        .form-control {
            width: 100%;
            padding: 15px;
            border: 2px solid rgba(93, 63, 211, 0.1);
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: var(--card-bg);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(93, 63, 211, 0.1);
        }
        
        textarea.form-control {
            min-height: 150px;
            resize: vertical;
        }
        
        /* Футер */
        footer {
            background: var(--dark-color);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }
        
        footer p {
            margin-bottom: 10px;
            opacity: 0.9;
        }
        
        .footer-logo {
            color: var(--accent-color);
            font-weight: 800;
        }
        
        /* Адаптивность */
        @media (max-width: 1200px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                padding: 1.5rem;
            }
            
            .app-list {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .app-list li {
                margin-bottom: 0;
            }
            
            .app-list a {
                padding: 12px 20px;
            }
        }
        
        @media (max-width: 992px) {
            header {
                flex-direction: column;
                gap: 20px;
                padding: 1.5rem;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .main-content {
                padding: 1.5rem;
            }
            
            .calculator-container, .news-article {
                flex-direction: column;
            }
            
            .calculator-display, .calculator-history {
                min-width: 100%;
            }
        }
        
        @media (max-width: 768px) {
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .weather-container {
                grid-template-columns: 1fr;
            }
            
            .welcome-section {
                padding: 2rem;
            }
            
            .welcome-content h3 {
                font-size: 2rem;
            }
            
            .characters-showcase {
                flex-direction: column;
            }
        }
        
        /* Скроллбар */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(93, 63, 211, 0.3);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(93, 63, 211, 0.5);
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <div class="logo-icon">
                <i class="fas fa-paw"></i>
            </div>
            <div class="logo-text">
                <h1>Стася <span>365</span></h1>
                <p>Портал Зверяндии</p>
            </div>
        </div>
        <nav>
            <ul>
                <li><a href="#" class="nav-link active" data-section="home"><i class="fas fa-home"></i> Главная</a></li>
                <li><a href="#" class="nav-link" data-section="calculator"><i class="fas fa-calculator"></i> Калькулятор</a></li>
                <li><a href="#" class="nav-link" data-section="notes"><i class="fas fa-sticky-note"></i> Заметки</a></li>
                <li><a href="#" class="nav-link" data-section="news"><i class="fas fa-newspaper"></i> Новости</a></li>
                <li><a href="#" class="nav-link" data-section="weather"><i class="fas fa-cloud-sun"></i> Погода</a></li>
            </ul>
        </nav>
    </header>
    
    <div class="container">
        <aside class="sidebar">
            <div class="user-profile">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-info">
                    <h3>Гость Зверяндии</h3>
                    <p>Добро пожаловать!</p>
                </div>
            </div>
            <ul class="app-list">
                <li><a href="#" class="app-link active" data-section="home"><i class="fas fa-home"></i> Главная</a></li>
                <li><a href="#" class="app-link" data-section="calculator"><i class="fas fa-calculator"></i> Калькулятор <span class="app-badge">PRO</span></a></li>
                <li><a href="#" class="app-link" data-section="notes"><i class="fas fa-sticky-note"></i> Заметки</a></li>
                <li><a href="#" class="app-link" data-section="news"><i class="fas fa-newspaper"></i> Новости</a></li>
                <li><a href="#" class="app-link" data-section="weather"><i class="fas fa-cloud-sun"></i> Погода</a></li>
                <li><a href="#" class="app-link" data-section="calendar"><i class="fas fa-calendar-alt"></i> Календарь</a></li>
                <li><a href="#" class="app-link" data-section="contacts"><i class="fas fa-address-book"></i> Контакты</a></li>
                <li><a href="#" class="app-link" data-section="settings"><i class="fas fa-cog"></i> Настройки</a></li>
            </ul>
        </aside>
        
        <main class="main-content">
            <!-- Главная страница -->
            <section id="home" class="app-section active">
                <div class="welcome-section">
                    <div class="welcome-content">
                        <h3>Добро пожаловать в Зверяндию!</h3>
                        <p>Ваш универсальный портал для жителей сказочной страны Зверяндии. Здесь вы найдете все необходимые инструменты для работы, отдыха и общения с друзьями.</p>
                        <button class="btn btn-accent"><i class="fas fa-rocket"></i> Начать знакомство</button>
                    </div>
                    <div class="characters-showcase">
                        <div class="character-card dog">
                            <i class="fas fa-dog character-icon"></i>
                            <h4>Собака Стася</h4>
                            <p>Любитель приключений</p>
                        </div>
                        <div class="character-card dragon">
                            <i class="fas fa-dragon character-icon"></i>
                            <h4>Дракон Крылатик</h4>
                            <p>Хранитель небес</p>
                        </div>
                        <div class="character-card rabbit">
                            <i class="fas fa-paw character-icon"></i>
                            <h4>Кроль Ушастик</h4>
                            <p>Мастер садоводства</p>
                        </div>
                    </div>
                </div>
                
                <div class="app-header">
                    <h2>Основные функции</h2>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <h4>Профессиональный калькулятор</h4>
                        <p>Мощный инструмент для сложных вычислений с историей операций и расширенными функциями для любых расчетов.</p>
                        <a href="#" class="btn btn-secondary" data-section="calculator">Открыть</a>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-sticky-note"></i>
                        </div>
                        <h4>Умные заметки</h4>
                        <p>Создавайте, редактируйте и организуйте ваши заметки. Все данные сохраняются автоматически.</p>
                        <a href="#" class="btn btn-secondary" data-section="notes">Открыть</a>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-cloud-sun"></i>
                        </div>
                        <h4>Погода в Зверяндии</h4>
                        <p>Актуальный прогноз погоды для всех городов Зверяндии. <strong>Погода меняется каждый день!</strong> Обновляется автоматически.</p>
                        <a href="#" class="btn btn-secondary" data-section="weather">Открыть</a>
                    </div>
                </div>
            </section>
            
            <!-- Калькулятор -->
            <section id="calculator" class="app-section">
                <div class="app-header">
                    <h2>Профессиональный калькулятор</h2>
                    <div class="app-actions">
                        <button class="btn btn-secondary" id="clearHistory"><i class="fas fa-trash"></i> Очистить историю</button>
                        <button class="btn btn-primary" id="advancedToggle"><i class="fas fa-sliders-h"></i> Расширенный режим</button>
                    </div>
                </div>
                <div class="calculator-container">
                    <div class="calculator-display">
                        <div class="calculator-screen">
                            <div class="calculation" id="calculation">0</div>
                            <div class="result" id="result">0</div>
                        </div>
                        <div class="calculator-buttons" id="basicButtons">
                            <button class="calc-btn clear" data-action="clear">C</button>
                            <button class="calc-btn operator" data-action="backspace">⌫</button>
                            <button class="calc-btn operator" data-action="%">%</button>
                            <button class="calc-btn operator" data-action="/">/</button>
                            
                            <button class="calc-btn" data-action="7">7</button>
                            <button class="calc-btn" data-action="8">8</button>
                            <button class="calc-btn" data-action="9">9</button>
                            <button class="calc-btn operator" data-action="*">×</button>
                            
                            <button class="calc-btn" data-action="4">4</button>
                            <button class="calc-btn" data-action="5">5</button>
                            <button class="calc-btn" data-action="6">6</button>
                            <button class="calc-btn operator" data-action="-">-</button>
                            
                            <button class="calc-btn" data-action="1">1</button>
                            <button class="calc-btn" data-action="2">2</button>
                            <button class="calc-btn" data-action="3">3</button>
                            <button class="calc-btn operator" data-action="+">+</button>
                            
                            <button class="calc-btn" data-action="0">0</button>
                            <button class="calc-btn" data-action=".">.</button>
                            <button class="calc-btn equals" data-action="=">=</button>
                        </div>
                        <div class="calculator-buttons" id="advancedButtons" style="display: none; margin-top: 15px;">
                            <button class="calc-btn operator" data-action="sqrt">√</button>
                            <button class="calc-btn operator" data-action="square">x²</button>
                            <button class="calc-btn operator" data-action="power">x^y</button>
                            <button class="calc-btn operator" data-action="pi">π</button>
                            <button class="calc-btn operator" data-action="sin">sin</button>
                            <button class="calc-btn operator" data-action="cos">cos</button>
                            <button class="calc-btn operator" data-action="tan">tan</button>
                            <button class="calc-btn operator" data-action="log">log</button>
                        </div>
                    </div>
                    <div class="calculator-history">
                        <h3 class="history-title">История вычислений</h3>
                        <ul class="history-list" id="historyList">
                            <!-- История будет добавляться сюда -->
                        </ul>
                    </div>
                </div>
            </section>
            
            <!-- Заметки -->
            <section id="notes" class="app-section">
                <div class="app-header">
                    <h2>Мои заметки</h2>
                    <button class="btn btn-primary" id="addNoteBtn"><i class="fas fa-plus"></i> Добавить заметку</button>
                </div>
                <div class="notes-container" id="notesContainer">
                    <!-- Заметки будут добавляться сюда -->
                </div>
            </section>
            
            <!-- Новости -->
            <section id="news" class="app-section">
                <div class="app-header">
                    <h2>Новости Зверяндии</h2>
                    <div class="app-actions">
                        <button class="btn btn-secondary" id="refreshNews"><i class="fas fa-sync-alt"></i> Обновить</button>
                    </div>
                </div>
                <div class="news-container" id="newsContainer">
                    <!-- Новости будут добавляться сюда -->
                </div>
            </section>
            
            <!-- Погода -->
            <section id="weather" class="app-section">
                <div class="app-header">
                    <h2>Погода в Зверяндии</h2>
                    <div class="app-actions">
                        <select id="citySelect" class="form-control" style="width: 220px;">
                            <option value="mouskinsk">Мышкинск</option>
                            <option value="listinsk">Листинск</option>
                            <option value="kosmos">Космос</option>
                            <option value="morozhensk">Мороженск</option>
                            <option value="ulyanovsk">Ульяновск</option>
                            <option value="barsuchye">Барсучье</option>
                            <option value="lisiy-ostrov">Лисий Остров</option>
                            <option value="yozhikovo">Ёжиково</option>
                            <option value="zaichiy-gorod">Заячий Город</option>
                        </select>
                    </div>
                </div>
                <div class="weather-container" id="weatherContainer">
                    <!-- Погода будет добавляться сюда -->
                </div>
            </section>
            
            <!-- Календарь -->
            <section id="calendar" class="app-section">
                <div class="app-header">
                    <h2>Календарь</h2>
                    <div class="app-actions">
                        <button class="btn btn-primary" id="addEventBtn"><i class="fas fa-plus"></i> Добавить событие</button>
                    </div>
                </div>
                <div class="calendar-container">
                    <div class="calendar-header">
                        <div class="calendar-month" id="currentMonth">Октябрь 2023</div>
                        <div class="calendar-nav">
                            <button id="prevMonth"><i class="fas fa-chevron-left"></i></button>
                            <button id="todayBtn">Сегодня</button>
                            <button id="nextMonth"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                    <div class="calendar-weekdays">
                        <div>Пн</div><div>Вт</div><div>Ср</div><div>Чт</div><div>Пт</div><div>Сб</div><div>Вс</div>
                    </div>
                    <div class="calendar-days" id="calendarDays">
                        <!-- Дни календаря будут добавляться сюда -->
                    </div>
                    <div class="calendar-events">
                        <h3 style="margin-bottom: 20px; color: var(--primary-color);">События на сегодня</h3>
                        <div id="todayEvents">
                            <!-- События на сегодня -->
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Контакты -->
            <section id="contacts" class="app-section">
                <div class="app-header">
                    <h2>Контакты</h2>
                    <button class="btn btn-primary" id="addContactBtn"><i class="fas fa-user-plus"></i> Добавить контакт</button>
                </div>
                <div class="contacts-container" id="contactsContainer">
                    <!-- Контакты будут добавляться сюда -->
                </div>
            </section>
            
            <!-- Настройки -->
            <section id="settings" class="app-section">
                <div class="app-header">
                    <h2>Настройки</h2>
                </div>
                <div class="calendar-container">
                    <h3 style="margin-bottom: 25px; color: var(--primary-color);">Настройки портала</h3>
                    <div class="form-group">
                        <label>Тема оформления</label>
                        <select class="form-control" id="themeSelect">
                            <option value="light">Светлая</option>
                            <option value="dark">Темная</option>
                            <option value="auto">Авто</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Язык интерфейса</label>
                        <select class="form-control">
                            <option>Русский</option>
                            <option>Английский</option>
                            <option>Зверяндский</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Уведомления</label>
                        <div style="display: flex; flex-direction: column; gap: 15px; margin-top: 10px;">
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" checked> Новости Зверяндии
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" checked> Погодные предупреждения
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox"> Напоминания о событиях
                            </label>
                        </div>
                    </div>
                    <button class="btn btn-primary" style="margin-top: 20px;">Сохранить настройки</button>
                </div>
            </section>
        </main>
    </div>
    
    <!-- Модальное окно для заметок -->
    <div class="modal" id="noteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">Новая заметка</h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <form id="noteForm">
                <input type="hidden" id="noteId">
                <div class="form-group">
                    <label for="noteTitle">Заголовок</label>
                    <input type="text" id="noteTitle" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="noteContent">Содержание</label>
                    <textarea id="noteContent" class="form-control" required></textarea>
                </div>
                <div style="display: flex; justify-content: flex-end; gap: 15px; margin-top: 30px;">
                    <button type="button" class="btn btn-secondary" id="cancelNote">Отмена</button>
                    <button type="submit" class="btn btn-primary">Сохранить заметку</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Модальное окно для полной новости -->
    <div class="modal" id="newsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="newsModalTitle">Новость</h3>
                <button class="close-modal" id="closeNewsModal">&times;</button>
            </div>
            <div id="newsModalContent">
                <!-- Полный текст новости будет здесь -->
            </div>
        </div>
    </div>
    
    <footer>
        <p>© 2023 <span class="footer-logo">Стася 365</span>. Портал для жителей Зверяндии.</p>
        <p style="margin-top: 10px; font-size: 0.9rem; opacity: 0.7;">Зверяндия, Проспект Дружбы, 1. Все права защищены.</p>
    </footer>

    <script>
        // Текущая дата и время
        function updateDateTime() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            };
            // Обновляем дату в боковой панели
            const dateElements = document.querySelectorAll('.date-display');
            dateElements.forEach(el => {
                if (el) el.textContent = now.toLocaleDateString('ru-RU', options);
            });
        }
        
        // Навигация между разделами
        document.querySelectorAll('.nav-link, .app-link, .btn[data-section]').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const sectionId = this.getAttribute('data-section');
                
                // Обновляем активные элементы навигации
                document.querySelectorAll('.nav-link, .app-link').forEach(item => {
                    item.classList.remove('active');
                });
                
                if (this.classList.contains('nav-link') || this.classList.contains('app-link')) {
                    this.classList.add('active');
                } else {
                    // Если нажата кнопка с data-section, находим соответствующий элемент навигации
                    const navLink = document.querySelector(`.nav-link[data-section="${sectionId}"], .app-link[data-section="${sectionId}"]`);
                    if (navLink) navLink.classList.add('active');
                }
                
                // Показываем выбранный раздел
                document.querySelectorAll('.app-section').forEach(section => {
                    section.classList.remove('active');
                });
                document.getElementById(sectionId).classList.add('active');
            });
        });
        
        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', function() {
            updateDateTime();
            initCalculator();
            initNotes();
            initNews();
            initWeather();
            initCalendar();
            initContacts();
            
            // Обновляем время каждую минуту
            setInterval(updateDateTime, 60000);
            
            // Переключение расширенного режима калькулятора
            document.getElementById('advancedToggle').addEventListener('click', function() {
                const advancedButtons = document.getElementById('advancedButtons');
                const isAdvanced = advancedButtons.style.display === 'grid';
                advancedButtons.style.display = isAdvanced ? 'none' : 'grid';
                this.innerHTML = isAdvanced ? 
                    '<i class="fas fa-sliders-h"></i> Расширенный режим' : 
                    '<i class="fas fa-times"></i> Основной режим';
            });
            
            // Выбор темы
            document.getElementById('themeSelect').addEventListener('change', function() {
                const theme = this.value;
                if (theme === 'dark') {
                    document.documentElement.style.setProperty('--light-color', '#1A1A2E');
                    document.documentElement.style.setProperty('--dark-color', '#F8F9FF');
                    document.documentElement.style.setProperty('--card-bg', 'rgba(26, 26, 46, 0.9)');
                    document.documentElement.style.setProperty('--gradient-bg', 'linear-gradient(135deg, #0F0F1A 0%, #1A1A2E 100%)');
                } else {
                    // Возвращаем светлую тему
                    document.documentElement.style.setProperty('--light-color', '#F8F9FF');
                    document.documentElement.style.setProperty('--dark-color', '#1A1A2E');
                    document.documentElement.style.setProperty('--card-bg', 'rgba(255, 255, 255, 0.95)');
                    document.documentElement.style.setProperty('--gradient-bg', 'linear-gradient(135deg, #F8F9FF 0%, #E6E9FF 100%)');
                }
            });
        });
        
        // ==================== КАЛЬКУЛЯТОР ====================
        function initCalculator() {
            let calculation = '';
            let result = '0';
            let history = [];
            
            const calculationDisplay = document.getElementById('calculation');
            const resultDisplay = document.getElementById('result');
            const historyList = document.getElementById('historyList');
            const clearHistoryBtn = document.getElementById('clearHistory');
            
            function updateCalculatorDisplay() {
                calculationDisplay.textContent = calculation || '0';
                resultDisplay.textContent = result;
            }
            
            function calculateResult() {
                try {
                    // Заменяем символы для корректного вычисления
                    let expr = calculation
                        .replace(/×/g, '*')
                        .replace(/÷/g, '/')
                        .replace(/%/g, '/100')
                        .replace(/π/g, Math.PI.toString())
                        .replace(/√(\d+)/g, 'Math.sqrt($1)')
                        .replace(/(\d+)\^(\d+)/g, 'Math.pow($1, $2)')
                        .replace(/sin\(/g, 'Math.sin(')
                        .replace(/cos\(/g, 'Math.cos(')
                        .replace(/tan\(/g, 'Math.tan(')
                        .replace(/log\(/g, 'Math.log10(');
                    
                    // Обработка x²
                    expr = expr.replace(/(\d+)²/g, 'Math.pow($1, 2)');
                    
                    // Вычисление
                    const calculated = eval(expr);
                    
                    // Форматирование результата
                    if (Number.isInteger(calculated)) {
                        result = calculated.toString();
                    } else {
                        result = parseFloat(calculated.toFixed(10)).toString();
                    }
                    
                    // Добавляем в историю
                    const historyItem = {
                        expression: calculation,
                        result: result,
                        timestamp: new Date().toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' })
                    };
                    
                    history.unshift(historyItem);
                    updateHistoryDisplay();
                    
                    // Ограничиваем историю 15 последними записями
                    if (history.length > 15) {
                        history.pop();
                    }
                    
                    // Сохраняем историю в localStorage
                    localStorage.setItem('calculatorHistory', JSON.stringify(history));
                } catch (error) {
                    result = 'Ошибка';
                }
                updateCalculatorDisplay();
            }
            
            function updateHistoryDisplay() {
                historyList.innerHTML = '';
                history.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'history-item';
                    li.innerHTML = `
                        <div>
                            <div class="history-expression">${item.expression}</div>
                            <div class="history-result">= ${item.result}</div>
                        </div>
                        <div class="history-time">${item.timestamp}</div>
                    `;
                    historyList.appendChild(li);
                });
            }
            
            // Загрузка истории из localStorage
            const savedHistory = localStorage.getItem('calculatorHistory');
            if (savedHistory) {
                history = JSON.parse(savedHistory);
                updateHistoryDisplay();
            } else {
                // Создаем примеры в истории
                history = [
                    { expression: '25 × 4', result: '100', timestamp: '10:15' },
                    { expression: '1500 ÷ 3', result: '500', timestamp: '09:45' },
                    { expression: '√144', result: '12', timestamp: '09:30' },
                    { expression: '5² + 3²', result: '34', timestamp: '09:20' }
                ];
                updateHistoryDisplay();
            }
            
            // Обработчики кнопок калькулятора
            document.querySelectorAll('.calc-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const action = this.getAttribute('data-action');
                    
                    if (action === 'clear') {
                        calculation = '';
                        result = '0';
                    } else if (action === 'backspace') {
                        calculation = calculation.slice(0, -1);
                    } else if (action === '=') {
                        calculateResult();
                        return;
                    } else if (['+', '-', '*', '/', '%', 'sqrt', 'square', 'power', 'pi', 'sin', 'cos', 'tan', 'log'].includes(action)) {
                        if (calculation === '' && !['-', 'sqrt', 'sin', 'cos', 'tan', 'log', 'pi'].includes(action)) return;
                        
                        // Преобразуем символы для отображения
                        let displayAction = action;
                        if (action === '*') displayAction = '×';
                        if (action === '/') displayAction = '÷';
                        if (action === 'sqrt') displayAction = '√';
                        if (action === 'square') displayAction = '²';
                        if (action === 'power') displayAction = '^';
                        
                        // Добавляем скобки для тригонометрических функций и логарифма
                        if (['sin', 'cos', 'tan', 'log'].includes(action)) {
                            calculation += action + '(';
                        } else {
                            calculation += displayAction;
                        }
                    } else {
                        // Числа и точка
                        if (action === '.' && calculation.includes('.')) {
                            // Не допускаем несколько точек подряд
                            const lastNum = calculation.split(/[\+\-\*\/]/).pop();
                            if (lastNum.includes('.')) return;
                        }
                        
                        calculation += action;
                    }
                    
                    updateCalculatorDisplay();
                });
            });
            
            // Очистка истории
            clearHistoryBtn.addEventListener('click', function() {
                history = [];
                updateHistoryDisplay();
                localStorage.removeItem('calculatorHistory');
            });
            
            // Инициализация отображения
            updateCalculatorDisplay();
        }
        
        // ==================== ЗАМЕТКИ ====================
        function initNotes() {
            let notes = [];
            let currentNoteId = null;
            
            const notesContainer = document.getElementById('notesContainer');
            const noteModal = document.getElementById('noteModal');
            const addNoteBtn = document.getElementById('addNoteBtn');
            const closeModalBtn = document.getElementById('closeModal');
            const cancelNoteBtn = document.getElementById('cancelNote');
            const noteForm = document.getElementById('noteForm');
            const modalTitle = document.getElementById('modalTitle');
            
            // Загрузка заметок из localStorage
            const savedNotes = localStorage.getItem('stasyaNotes');
            if (savedNotes) {
                notes = JSON.parse(savedNotes);
                updateNotesDisplay();
            } else {
                // Создаем тестовые заметки
                notes = [
                    {
                        id: 1,
                        title: 'Идеи для путешествий по Зверяндии',
                        content: '1. Посетить облачный город Космос\n2. Увидеть северное сияние в Мороженске\n3. Попробовать фирменный морковный пирог в Ульяновске\n4. Прокатиться на драконе Крылатике\n5. Исследовать пещеры Барсучья',
                        date: '2023-10-15',
                        time: '10:30'
                    },
                    {
                        id: 2,
                        title: 'Список покупок для пикника',
                        content: '- Морковные пироги\n- Яблочный сок\n- Овощные шашлыки\n- Фруктовый салат\n- Травяной чай\n- Плед для пикника\n- Игры на свежем воздухе',
                        date: '2023-10-14',
                        time: '16:45'
                    },
                    {
                        id: 3,
                        title: 'Планы на неделю',
                        content: 'Понедельник: Встреча с друзьями в парке\nВторник: Посещение библиотеки Зверяндии\nСреда: Мастер-класс по садоводству от Ушастика\nЧетверг: Полёт на драконе с Крылатиком\nПятница: Поход в кино на новый фильм\nСуббота: Пикник у озера\nВоскресенье: Отдых и планирование новой недели',
                        date: '2023-10-13',
                        time: '09:15'
                    },
                    {
                        id: 4,
                        title: 'Идеи для новых приключений',
                        content: '- Найти радужный водопад\n- Посетить плавучий остров\n- Устроить гонки на облаках\n- Научиться говорить на языке животных\n- Найти секретный сад с волшебными цветами\n- Создать карту всех достопримечательностей Зверяндии',
                        date: '2023-10-12',
                        time: '14:20'
                    }
                ];
                updateNotesDisplay();
                saveNotes();
            }
            
            function updateNotesDisplay() {
                notesContainer.innerHTML = '';
                
                // Добавляем кнопку создания новой заметки
                const addNoteButton = document.createElement('button');
                addNoteButton.className = 'add-note-btn';
                addNoteButton.innerHTML = '<i class="fas fa-plus"></i><span>Добавить новую заметку</span>';
                addNoteButton.addEventListener('click', () => openNoteModal());
                notesContainer.appendChild(addNoteButton);
                
                // Отображаем существующие заметки
                notes.forEach(note => {
                    const noteElement = document.createElement('div');
                    noteElement.className = 'note';
                    noteElement.innerHTML = `
                        <div class="note-header">
                            <div class="note-title">${note.title}</div>
                            <div class="note-date">${note.date} ${note.time}</div>
                        </div>
                        <div class="note-content">${note.content.replace(/\n/g, '<br>')}</div>
                        <div class="note-actions">
                            <button class="note-btn edit" data-id="${note.id}"><i class="fas fa-edit"></i> Редактировать</button>
                            <button class="note-btn delete" data-id="${note.id}"><i class="fas fa-trash"></i> Удалить</button>
                        </div>
                    `;
                    notesContainer.appendChild(noteElement);
                });
                
                // Добавляем обработчики для кнопок редактирования и удаления
                document.querySelectorAll('.note-btn.edit').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = parseInt(this.getAttribute('data-id'));
                        openNoteModal(id);
                    });
                });
                
                document.querySelectorAll('.note-btn.delete').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = parseInt(this.getAttribute('data-id'));
                        deleteNote(id);
                    });
                });
            }
            
            function openNoteModal(id = null) {
                currentNoteId = id;
                
                if (id) {
                    // Редактирование существующей заметки
                    const note = notes.find(n => n.id === id);
                    document.getElementById('noteId').value = id;
                    document.getElementById('noteTitle').value = note.title;
                    document.getElementById('noteContent').value = note.content;
                    modalTitle.textContent = 'Редактировать заметку';
                } else {
                    // Создание новой заметки
                    document.getElementById('noteId').value = '';
                    document.getElementById('noteTitle').value = '';
                    document.getElementById('noteContent').value = '';
                    modalTitle.textContent = 'Новая заметка';
                }
                
                noteModal.classList.add('active');
            }
            
            function closeNoteModal() {
                noteModal.classList.remove('active');
                noteForm.reset();
                currentNoteId = null;
            }
            
            function saveNote(event) {
                event.preventDefault();
                
                const title = document.getElementById('noteTitle').value.trim();
                const content = document.getElementById('noteContent').value.trim();
                const id = document.getElementById('noteId').value;
                
                if (!title || !content) {
                    alert('Заголовок и содержание заметки не могут быть пустыми!');
                    return;
                }
                
                const now = new Date();
                const date = now.toISOString().split('T')[0];
                const time = now.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
                
                if (id) {
                    // Обновление существующей заметки
                    const noteIndex = notes.findIndex(n => n.id === parseInt(id));
                    notes[noteIndex].title = title;
                    notes[noteIndex].content = content;
                    notes[noteIndex].date = date;
                    notes[noteIndex].time = time;
                } else {
                    // Создание новой заметки
                    const newId = notes.length > 0 ? Math.max(...notes.map(n => n.id)) + 1 : 1;
                    notes.push({
                        id: newId,
                        title,
                        content,
                        date,
                        time
                    });
                }
                
                updateNotesDisplay();
                saveNotes();
                closeNoteModal();
            }
            
            function deleteNote(id) {
                if (confirm('Вы уверены, что хотите удалить эту заметку?')) {
                    notes = notes.filter(note => note.id !== id);
                    updateNotesDisplay();
                    saveNotes();
                }
            }
            
            function saveNotes() {
                localStorage.setItem('stasyaNotes', JSON.stringify(notes));
            }
            
            // Обработчики для модального окна заметок
            addNoteBtn.addEventListener('click', () => openNoteModal());
            closeModalBtn.addEventListener('click', closeNoteModal);
            cancelNoteBtn.addEventListener('click', closeNoteModal);
            noteForm.addEventListener('submit', saveNote);
        }
        
        // ==================== НОВОСТИ ====================
        function initNews() {
            const newsContainer = document.getElementById('newsContainer');
            const refreshNewsBtn = document.getElementById('refreshNews');
            const newsModal = document.getElementById('newsModal');
            const closeNewsModal = document.getElementById('closeNewsModal');
            const newsModalTitle = document.getElementById('newsModalTitle');
            const newsModalContent = document.getElementById('newsModalContent');
            
            // Генерация дат для новостей (последние 7 дней)
            const today = new Date();
            const newsDates = [];
            for (let i = 0; i < 7; i++) {
                const date = new Date(today);
                date.setDate(today.getDate() - i);
                newsDates.push(date.toISOString().split('T')[0]);
            }
            
            const news = [
                {
                    id: 1,
                    title: 'Собака Стася открыла школу для юных путешественников',
                    shortContent: 'Знаменитая исследовательница Собака Стася объявила об открытии новой школы приключений для молодых жителей Зверяндии. В школе будут преподавать основы ориентирования, выживания в дикой природе и этикета общения с местными жителями.',
                    fullContent: `
                        <p>Знаменитая исследовательница Собака Стася объявила об открытии новой школы приключений для молодых жителей Зверяндии. В школе будут преподавать основы ориентирования, выживания в дикой природе и этикета общения с местными жителями. Первый набор уже начался, занятия начнутся с следующего месяца.</p>
                        
                        <p>"Моя цель - научить молодое поколение безопасно исследовать наш прекрасный мир, - говорит Стася. - Мы будем изучать карты, учиться разводить костры, распознавать съедобные растения и, конечно, уважать природу".</p>
                        
                        <p>Школа будет расположена в живописном лесу недалеко от Мышкинска. Ученики будут жить в уютных домиках и участвовать в реальных походах под руководством опытных инструкторов. Стася лично будет вести курс "Искусство открытий", где поделится секретами своих знаменитых экспедиций.</p>
                        
                        <p>Записаться в школу могут все желающие в возрасте от 8 до 16 лет. Особое внимание будет уделяться безопасности - каждый ученик получит набор необходимого снаряжения и будет застрахован на время обучения.</p>
                    `,
                    image: 'https://images.unsplash.com/photo-1552053831-71594a27632d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    date: newsDates[0],
                    category: 'Образование',
                    author: 'Корреспондент Бобёр',
                    character: 'dog'
                },
                {
                    id: 2,
                    title: 'Дракон Крылатик установил новый рекорд высоты полета',
                    shortContent: 'Легендарный дракон Крылатик побил собственный рекорд, поднявшись на высоту 15 километров над Зверяндией. Этот полет был посвящен годовщине основания облачного города Космос.',
                    fullContent: `
                        <p>Легендарный дракон Крылатик побил собственный рекорд, поднявшись на высоту 15 километров над Зверяндией. Этот полет был посвящен годовщине основания облачного города Космос. Тысячи жителей наблюдали за этим зрелищем с земли.</p>
                        
                        <p>"Я хотел показать, что даже самые высокие цели достижимы, если верить в себя, - сказал Крылатик после приземления. - Этот полет символизирует стремление к мечте, которое есть в каждом из нас".</p>
                        
                        <p>Во время полета Крылатик пролетел над всеми крупными городами Зверяндии, оставляя за собой разноцветный след, который был виден даже днем. Особенно впечатляющим был пролет над Мороженском, где след дракона создал радугу в зимнем небе.</p>
                        
                        <p>Метеорологическая служба Зверяндии зафиксировала уникальные атмосферные явления, сопровождавшие полет. Ученые уже начали изучать собранные данные, чтобы лучше понять климат высоких слоев атмосферы.</p>
                    `,
                    image: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    date: newsDates[1],
                    category: 'Спорт',
                    author: 'Енот-репортёр',
                    character: 'dragon'
                },
                {
                    id: 3,
                    title: 'Кроль Ушастик представил новый сорт гигантской моркови',
                    shortContent: 'Известный садовод Кроль Ушастик на ежегодной сельскохозяйственной выставке представил новый сорт моркови "Золотой урожай". Этот сорт отличается не только размерами, но и необычным сладким вкусом.',
                    fullContent: `
                        <p>Известный садовод Кроль Ушастик на ежегодной сельскохозяйственной выставке представил новый сорт моркови "Золотой урожай". Этот сорт отличается не только размерами (до 50 см в длину), но и необычным сладким вкусом с медовыми нотками.</p>
                        
                        <p>"Я работал над этим сортом три года, - рассказывает Ушастик. - Главной задачей было создать морковь, которая будет расти в любых условиях Зверяндии, от теплого Космоса до холодного Мороженска".</p>
                        
                        <p>Новый сорт уже получил высокие оценки от экспертов. Морковь "Золотой урожай" содержит рекордное количество витаминов и может храниться до года без потери качества. Особенно важно, что этот сорт устойчив к болезням и вредителям.</p>
                        
                        <p>Ушастик планирует бесплатно раздать семена нового сорта всем желающим садоводам Зверяндии. "Еда должна быть доступной для всех, - говорит он. - Я надеюсь, что моя морковь будет расти в каждом огороде страны".</p>
                    `,
                    image: 'https://images.unsplash.com/photo-1592921870789-04563d55041c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    date: newsDates[2],
                    category: 'Сельское хозяйство',
                    author: 'Сыч Всеволод',
                    character: 'rabbit'
                },
                {
                    id: 4,
                    title: 'Стася организовала благотворительный забег для бездомных животных',
                    shortContent: 'Собака Стася провела ежегодный благотворительный забег "Беги за мечтой", все средства от которого пойдут на помощь бездомным животным Зверяндии.',
                    fullContent: `
                        <p>Собака Стася провела ежегодный благотворительный забег "Беги за мечтой", все средства от которого пойдут на помощь бездомным животным Зверяндии. В забеге приняли участие более 1000 жителей со всех городов страны.</p>
                        
                        <p>Маршрут длиной 10 километров пролегал через самые живописные места Мышкинска. Участники бежали по набережной реки, через центральный парк и заканчивали дистанцию на главной площади города. Стася лично участвовала в забеге и финишировала в первой десятке.</p>
                        
                        <p>"Каждое животное заслуживает дом и любовь, - сказала Стася на церемонии награждения. - Сегодня мы не просто бежали, мы бежали ради тех, кто не может попросить о помощи".</p>
                        
                        <p>Собранные средства будут направлены на строительство нового приюта, стерилизацию бездомных животных и программу по их пристройству в семьи. Уже сейчас более 50 животных нашли новых хозяев благодаря этой акции.</p>
                    `,
                    image: 'https://images.unsplash.com/photo-1543466835-00a7907e9de1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    date: newsDates[3],
                    category: 'Благотворительность',
                    author: 'Корреспондент Бобёр',
                    character: 'dog'
                },
                {
                    id: 5,
                    title: 'Крылатик начал обучение молодых драконов искусству полета',
                    shortContent: 'Дракон Крылатик открыл первую в Зверяндии школу для молодых драконов, где будет преподавать основы безопасного полета, навигации по звездам и взаимодействия с другими обитателями неба.',
                    fullContent: `
                        <p>Дракон Крылатик открыл первую в Зверяндии школу для молодых драконов, где будет преподавать основы безопасного полета, навигации по звездам и взаимодействия с другими обитателями неба. Первый набор составил 12 юных дракончиков.</p>
                        
                        <p>"Летать - это не просто махать крыльями, это искусство, - объясняет Крылатик. - Я научу своих учеников чувствовать воздушные потоки, предсказывать погоду и летать, не нарушая покой других жителей неба".</p>
                        
                        <p>Обучение будет проходить на специально оборудованной площадке в горах недалеко от Космоса. Помимо практических занятий, ученики будут изучать теорию аэродинамики, метеорологии и астрономии. Особое внимание будет уделяться безопасности - все полеты будут проходить под наблюдением опытных инструкторов.</p>
                        
                        <p>Крылатик надеется, что его школа поможет новому поколению драконов стать ответственными и умелыми летунами. "Небо должно быть безопасным для всех, - говорит он. - И каждый дракон должен понимать свою ответственность перед теми, кто летает ниже".</p>
                    `,
                    image: 'https://images.unsplash.com/photo-1564349683136-77e08dba1ef7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    date: newsDates[4],
                    category: 'Образование',
                    author: 'Енот-репортёр',
                    character: 'dragon'
                },
                {
                    id: 6,
                    title: 'Ушастик создал сад мечты для детей-сирот',
                    shortContent: 'Кроль Ушастик завершил работу над необычным проектом - "Садом мечты" при детском доме в Листинске. В саду растут фруктовые деревья, овощные грядки и цветы, за которыми ухаживают сами дети.',
                    fullContent: `
                        <p>Кроль Ушастик завершил работу над необычным проектом - "Садом мечты" при детском доме в Листинске. В саду растут фруктовые деревья, овощные грядки и цветы, за которыми ухаживают сами дети. Проект создан для того, чтобы научить детей заботиться о природе и дать им практические навыки садоводства.</p>
                        
                        <p>"Растения учат нас терпению и заботе, - говорит Ушастик. - Когда ребенок сажает семечко и видит, как из него вырастает растение, он понимает, что даже маленькие действия могут привести к большим результатам".</p>
                        
                        <p>Сад разделен на несколько зон: огород с овощами, фруктовый сад, цветник и зона отдыха с качелями и столиками. Каждая группа детей отвечает за свою грядку. Урожай, собранный в саду, идет на питание в детском доме, а излишки продаются на местном рынке, и вырученные средства возвращаются в проект.</p>
                        
                        <p>Ушастик проводит в саду мастер-классы по садоводству два раза в неделю. Он учит детей не только выращивать растения, но и делать из них полезные продукты: варенье, соленья, травяные чаи. "Самое главное - видеть радость в глазах детей, когда они собирают первый урожай", - говорит Ушастик.</p>
                    `,
                    image: 'https://images.unsplash.com/photo-1417733403748-83bbc7c05140?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    date: newsDates[5],
                    category: 'Благотворительность',
                    author: 'Сыч Всеволод',
                    character: 'rabbit'
                },
                {
                    id: 7,
                    title: 'Стася и Крылатик совместно исследовали неизведанные пещеры',
                    shortContent: 'Собака Стася и дракон Крылатик завершили совместную экспедицию в неизведанные пещеры на севере Зверяндии. Исследователи обнаружили уникальные кристаллы, светящиеся в темноте, и подземное озеро с чистейшей водой.',
                    fullContent: `
                        <p>Собака Стася и дракон Крылатик завершили совместную экспедицию в неизведанные пещеры на севере Зверяндии. Исследователи обнаружили уникальные кристаллы, светящиеся в темноте, и подземное озеро с чистейшей водой. Экспедиция длилась две недели и стала одной из самых значительных в истории изучения Зверяндии.</p>
                        
                        <p>"Эти пещеры - настоящая природная сокровищница, - рассказывает Стася. - Кристаллы, которые мы нашли, излучают мягкий голубой свет без какого-либо внешнего источника энергии. Ученые уже начали изучать это уникальное явление".</p>
                        
                        <p>Крылатик, со своей стороны, отметил необычную акустику пещер: "Звук там распространяется особенным образом. Даже шепот слышен на расстоянии сотен метров. Мы предполагаем, что пещеры могут иметь идеальную акустику для концертов классической музыки".</p>
                        
                        <p>Подземное озеро, обнаруженное экспедицией, оказалось населено уникальными слепыми рыбами, которые эволюционировали в полной темноте. Ученые планируют создать в пещерах исследовательскую станцию для изучения этой уникальной экосистемы. При этом Стася и Крылатик настаивают на том, чтобы доступ в пещеры был ограничен, чтобы не нарушать хрупкое равновесие подземного мира.</p>
                    `,
                    image: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    date: newsDates[6],
                    category: 'Наука',
                    author: 'Корреспондент Бобёр',
                    character: 'both'
                }
            ];
            
            function displayNews() {
                newsContainer.innerHTML = '';
                news.forEach(item => {
                    // Определяем иконку персонажа
                    let characterIcon = 'fas fa-paw';
                    let characterColor = 'var(--primary-color)';
                    
                    if (item.character === 'dog') {
                        characterIcon = 'fas fa-dog';
                        characterColor = 'var(--accent-color)';
                    } else if (item.character === 'dragon') {
                        characterIcon = 'fas fa-dragon';
                        characterColor = 'var(--dragon-color)';
                    } else if (item.character === 'rabbit') {
                        characterIcon = 'fas fa-paw';
                        characterColor = 'var(--rabbit-color)';
                    } else if (item.character === 'both') {
                        characterIcon = 'fas fa-users';
                        characterColor = 'var(--primary-color)';
                    }
                    
                    const article = document.createElement('article');
                    article.className = 'news-article';
                    article.innerHTML = `
                        <div class="news-image">
                            <img src="${item.image}" alt="${item.title}">
                        </div>
                        <div class="news-content">
                            <div>
                                <h3 class="news-title">${item.title}</h3>
                                <div class="news-meta">
                                    <span><i class="far fa-calendar"></i> ${item.date}</span>
                                    <span><i class="fas fa-tag"></i> ${item.category}</span>
                                    <span><i class="fas fa-user"></i> ${item.author}</span>
                                    <span style="color: ${characterColor}"><i class="${characterIcon}"></i> ${item.character === 'dog' ? 'Стася' : item.character === 'dragon' ? 'Крылатик' : item.character === 'rabbit' ? 'Ушастик' : 'Стася и Крылатик'}</span>
                                </div>
                                <p class="news-text">${item.shortContent}</p>
                                <div class="news-full-text">${item.fullContent}</div>
                            </div>
                            <button class="read-more" data-id="${item.id}">Читать далее <i class="fas fa-arrow-right"></i></button>
                        </div>
                    `;
                    newsContainer.appendChild(article);
                });
                
                // Добавляем обработчики для кнопок "Читать далее"
                document.querySelectorAll('.read-more').forEach(button => {
                    button.addEventListener('click', function() {
                        const newsId = parseInt(this.getAttribute('data-id'));
                        const newsItem = news.find(item => item.id === newsId);
                        
                        if (newsItem) {
                            openNewsModal(newsItem);
                        }
                    });
                });
            }
            
            function openNewsModal(newsItem) {
                // Определяем иконку персонажа для модального окна
                let characterIcon = 'fas fa-paw';
                let characterName = 'Персонаж';
                
                if (newsItem.character === 'dog') {
                    characterIcon = 'fas fa-dog';
                    characterName = 'Собака Стася';
                } else if (newsItem.character === 'dragon') {
                    characterIcon = 'fas fa-dragon';
                    characterName = 'Дракон Крылатик';
                } else if (newsItem.character === 'rabbit') {
                    characterIcon = 'fas fa-paw';
                    characterName = 'Кроль Ушастик';
                } else if (newsItem.character === 'both') {
                    characterIcon = 'fas fa-users';
                    characterName = 'Стася и Крылатик';
                }
                
                newsModalTitle.textContent = newsItem.title;
                newsModalContent.innerHTML = `
                    <div class="news-meta" style="margin-bottom: 20px;">
                        <span><i class="far fa-calendar"></i> ${newsItem.date}</span>
                        <span><i class="fas fa-tag"></i> ${newsItem.category}</span>
                        <span><i class="fas fa-user"></i> ${newsItem.author}</span>
                        <span><i class="${characterIcon}"></i> ${characterName}</span>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <img src="${newsItem.image}" alt="${newsItem.title}" style="width: 100%; border-radius: 10px; margin-bottom: 20px;">
                    </div>
                    <div style="line-height: 1.7; color: #555;">
                        ${newsItem.fullContent}
                    </div>
                    <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(0,0,0,0.1);">
                        <p><strong>Теги:</strong> ${newsItem.category}, Зверяндия, ${characterName}, ${newsItem.date}</p>
                    </div>
                `;
                
                newsModal.classList.add('active');
            }
            
            function closeNewsModalFunc() {
                newsModal.classList.remove('active');
            }
            
            // Обновление новостей
            refreshNewsBtn.addEventListener('click', function() {
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Обновление...';
                setTimeout(() => {
                    displayNews();
                    this.innerHTML = '<i class="fas fa-sync-alt"></i> Обновить';
                }, 1000);
            });
            
            // Закрытие модального окна новостей
            closeNewsModal.addEventListener('click', closeNewsModalFunc);
            
            // Закрытие модального окна при клике вне его
            newsModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    closeNewsModalFunc();
                }
            });
            
            // Инициализация
            displayNews();
        }
        
        // ==================== ПОГОДА (ЕЖЕДНЕВНО МЕНЯЮЩАЯСЯ) ====================
        function initWeather() {
            const weatherContainer = document.getElementById('weatherContainer');
            const citySelect = document.getElementById('citySelect');
            
            // Функция для генерации согласованной погоды на основе даты
            function generateDailyWeather(cityId, cityName) {
                // Используем текущую дату для генерации уникальной погоды каждый день
                const today = new Date();
                const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);
                
                // Создаем уникальный seed для каждого города на основе дня года и названия города
                const seed = dayOfYear * cityName.length + cityName.charCodeAt(0);
                
                // Массив типов погоды с разумными температурными диапазонами
                const weatherTypes = [
                    { description: 'Солнечно', icon: 'fa-sun', minTemp: 10, maxTemp: 35, humidity: 30 + (seed % 40), wind: 3 + (seed % 8) },
                    { description: 'Облачно', icon: 'fa-cloud', minTemp: 5, maxTemp: 25, humidity: 50 + (seed % 30), wind: 5 + (seed % 10) },
                    { description: 'Легкий дождь', icon: 'fa-cloud-rain', minTemp: 8, maxTemp: 22, humidity: 70 + (seed % 25), wind: 8 + (seed % 7) },
                    { description: 'Гроза', icon: 'fa-bolt', minTemp: 18, maxTemp: 32, humidity: 75 + (seed % 20), wind: 12 + (seed % 10) },
                    { description: 'Туман', icon: 'fa-smog', minTemp: 0, maxTemp: 15, humidity: 85 + (seed % 10), wind: 2 + (seed % 5) },
                    { description: 'Снег', icon: 'fa-snowflake', minTemp: -15, maxTemp: 0, humidity: 65 + (seed % 30), wind: 10 + (seed % 8) },
                    { description: 'Переменная облачность', icon: 'fa-cloud-sun', minTemp: 8, maxTemp: 28, humidity: 45 + (seed % 30), wind: 6 + (seed % 8) }
                ];
                
                // Генерация температуры для сегодняшнего дня
                const baseTemp = 15 + (seed % 12); // Более узкий диапазон для реалистичности
                const dailyVariation = Math.sin(dayOfYear * 0.17) * 8; // Более плавное изменение
                let tempToday = Math.round(baseTemp + dailyVariation);
                
                // Определяем время года для дополнительной корректировки
                const month = today.getMonth();
                let seasonAdjustment = 0;
                if (month >= 11 || month <= 1) seasonAdjustment = -8; // Зима
                else if (month >= 2 && month <= 4) seasonAdjustment = -2; // Весна
                else if (month >= 5 && month <= 7) seasonAdjustment = 6; // Лето
                else seasonAdjustment = 0; // Осень
                
                tempToday += seasonAdjustment;
                
                // Выбираем погоду на сегодня с учетом температуры
                let todayWeatherIndex = 0;
                let suitableTypes = weatherTypes.filter(w => tempToday >= w.minTemp && tempToday <= w.maxTemp);
                
                if (suitableTypes.length > 0) {
                    // Выбираем случайную подходящую погоду
                    todayWeatherIndex = weatherTypes.indexOf(suitableTypes[seed % suitableTypes.length]);
                } else {
                    // Если нет подходящей погоды, корректируем температуру для первой подходящей
                    const firstSuitable = weatherTypes.find(w => tempToday >= w.minTemp && tempToday <= w.maxTemp);
                    if (firstSuitable) {
                        todayWeatherIndex = weatherTypes.indexOf(firstSuitable);
                        // Незначительно корректируем температуру
                        tempToday = Math.max(firstSuitable.minTemp, Math.min(firstSuitable.maxTemp, tempToday));
                    }
                }
                
                const todayWeather = weatherTypes[todayWeatherIndex];
                
                // Корректируем параметры погоды
                const humidity = todayWeather.humidity;
                const wind = todayWeather.wind;
                
                // "Ощущается как" с учетом влажности и ветра
                let feelsLikeToday = tempToday;
                if (humidity > 70) feelsLikeToday += Math.round((humidity - 70) / 10);
                if (wind > 10) feelsLikeToday -= Math.round((wind - 10) / 5);
                
                // Давление
                let pressure = 1013;
                if (todayWeather.description.includes('дождь') || todayWeather.description.includes('Гроза')) {
                    pressure = 1000 + (seed % 15);
                } else if (todayWeather.description.includes('Солнечно')) {
                    pressure = 1020 + (seed % 10);
                } else {
                    pressure = 1010 + (seed % 15);
                }
                
                // Генерация прогноза на неделю (логически связанного с сегодняшней погодой)
                const forecast = [];
                const daysOfWeek = ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'];
                const weekdayIndex = today.getDay();
                
                // Начинаем прогноз с завтрашнего дня (i=1)
                for (let i = 1; i <= 7; i++) {
                    const forecastDayIndex = (weekdayIndex + i) % 7;
                    const dayName = daysOfWeek[forecastDayIndex];
                    
                    // Определяем погоду для этого дня (последовательно меняется от сегодняшней)
                    let forecastWeatherIndex = (todayWeatherIndex + i * 1) % weatherTypes.length;
                    const forecastWeather = weatherTypes[forecastWeatherIndex];
                    
                    // Температура для дня i (плавное изменение от сегодняшней)
                    let forecastTemp = Math.round(tempToday + Math.sin(i * 0.5) * 6);
                    
                    // Корректируем температуру, чтобы она соответствовала типу погоды
                    if (forecastTemp < forecastWeather.minTemp || forecastTemp > forecastWeather.maxTemp) {
                        // Подбираем ближайшую подходящую погоду
                        const suitableForTemp = weatherTypes.filter(w => 
                            forecastTemp >= w.minTemp && forecastTemp <= w.maxTemp
                        );
                        if (suitableForTemp.length > 0) {
                            forecastWeatherIndex = weatherTypes.indexOf(suitableForTemp[(seed + i) % suitableForTemp.length]);
                        } else {
                            // Корректируем температуру до допустимого диапазона
                            forecastTemp = Math.max(forecastWeather.minTemp, Math.min(forecastWeather.maxTemp, forecastTemp));
                        }
                    }
                    
                    // Убеждаемся, что снег только при температуре 0 или ниже
                    const finalWeather = weatherTypes[forecastWeatherIndex];
                    if (finalWeather.description === 'Снег' && forecastTemp > 0) {
                        forecastTemp = -Math.abs((seed + i) % 5); // Делаем отрицательной
                    }
                    
                    // Для Листинска убираем снег при положительных температурах
                    if (cityName === 'Листинск' && finalWeather.description === 'Снег' && forecastTemp > 0) {
                        // Заменяем снег на дождь или облачность
                        forecastWeatherIndex = (forecastTemp > 15) ? 0 : 1; // Солнечно или облачно
                    }
                    
                    forecast.push({
                        day: dayName,
                        temp: forecastTemp,
                        description: weatherTypes[forecastWeatherIndex].description,
                        icon: weatherTypes[forecastWeatherIndex].icon
                    });
                }
                
                // Возвращаем согласованные данные
                return {
                    name: cityName,
                    temp: tempToday,
                    feelsLike: Math.round(feelsLikeToday),
                    description: todayWeather.description,
                    icon: todayWeather.icon,
                    humidity: humidity,
                    wind: wind,
                    pressure: Math.round(pressure),
                    forecast: forecast,
                    lastUpdated: today.toLocaleDateString('ru-RU')
                };
            }
            
            // Данные о погоде для городов Зверяндии (генерируются ежедневно)
            const weatherData = {
                'mouskinsk': generateDailyWeather(1, 'Мышкинск'),
                'listinsk': generateDailyWeather(2, 'Листинск'),
                'kosmos': generateDailyWeather(3, 'Космос'),
                'morozhensk': generateDailyWeather(4, 'Мороженск'),
                'ulyanovsk': generateDailyWeather(5, 'Ульяновск'),
                'barsuchye': generateDailyWeather(6, 'Барсучье'),
                'lisiy-ostrov': generateDailyWeather(7, 'Лисий Остров'),
                'yozhikovo': generateDailyWeather(8, 'Ёжиково'),
                'zaichiy-gorod': generateDailyWeather(9, 'Заячий Город')
            };
            
            function displayWeather(cityId = 'mouskinsk') {
                const city = weatherData[cityId];
                if (!city) return;
                
                weatherContainer.innerHTML = '';
                
                // Основная карточка погоды
                const mainCard = document.createElement('div');
                mainCard.className = 'weather-card main';
                mainCard.innerHTML = `
                    <div class="weather-header">
                        <div class="weather-location">
                            <h3>${city.name}, Зверяндия</h3>
                            <div class="weather-date">${new Date().toLocaleDateString('ru-RU', { weekday: 'long', day: 'numeric', month: 'long' })}</div>
                            <div style="font-size: 0.8rem; opacity: 0.8; margin-top: 5px;">
                                <i class="fas fa-sync-alt"></i> Обновлено сегодня
                            </div>
                        </div>
                        <div class="weather-icon">
                            <i class="fas ${city.icon}"></i>
                        </div>
                    </div>
                    <div class="weather-temp">${city.temp}°C</div>
                    <div class="weather-desc">${city.description}, ощущается как ${city.feelsLike}°C</div>
                    <div class="weather-details">
                        <div class="detail-item">
                            <div class="detail-icon">
                                <i class="fas fa-tint"></i>
                            </div>
                            <div class="detail-info">
                                <h4>Влажность</h4>
                                <p>${city.humidity}%</p>
                            </div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-icon">
                                <i class="fas fa-wind"></i>
                            </div>
                            <div class="detail-info">
                                <h4>Ветер</h4>
                                <p>${city.wind} км/ч</p>
                            </div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-icon">
                                <i class="fas fa-tachometer-alt"></i>
                            </div>
                            <div class="detail-info">
                                <h4>Давление</h4>
                                <p>${city.pressure} гПа</p>
                            </div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-icon">
                                <i class="fas fa-thermometer-half"></i>
                            </div>
                            <div class="detail-info">
                                <h4>Ощущается</h4>
                                <p>${city.feelsLike}°C</p>
                            </div>
                        </div>
                    </div>
                `;
                weatherContainer.appendChild(mainCard);
                
                // Карточка прогноза на неделю
                const forecastCard = document.createElement('div');
                forecastCard.className = 'weather-card';
                forecastCard.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3 style="color: var(--primary-color);">Прогноз на неделю</h3>
                        <div style="font-size: 0.85rem; color: #666;">
                            <i class="fas fa-calendar-alt"></i> ${new Date().toLocaleDateString('ru-RU', { month: 'long' })}
                        </div>
                    </div>
                    <div class="forecast-container">
                        ${city.forecast.map(day => `
                            <div class="forecast-day">
                                <div class="forecast-day-name">${day.day}</div>
                                <div class="forecast-icon"><i class="fas ${day.icon}"></i></div>
                                <div class="forecast-temp">${day.temp}°C</div>
                                <div class="forecast-desc">${day.description}</div>
                            </div>
                        `).join('')}
                    </div>
                    <div style="margin-top: 15px; font-size: 0.85rem; color: #666; text-align: center;">
                        <i class="fas fa-info-circle"></i> Прогноз обновляется ежедневно
                    </div>
                `;
                weatherContainer.appendChild(forecastCard);
                
                // Карточка рекомендаций
                const recommendationsCard = document.createElement('div');
                recommendationsCard.className = 'weather-card';
                
                let recommendations = '';
                let activity = '';
                let clothing = '';
                
                if (city.temp > 25) {
                    recommendations = 'Жаркая погода! Отличный день для посещения пляжей, парков и открытых кафе. Не забудьте солнцезащитный крем и головной убор.';
                    activity = 'Пикник у озера';
                    clothing = 'Легкая одежда, панама';
                } else if (city.temp > 18) {
                    recommendations = 'Теплая и приятная погода. Идеально для прогулок, велопоездок и встреч с друзьями на свежем воздухе.';
                    activity = 'Прогулка в парке';
                    clothing = 'Футболка, ветровка';
                } else if (city.temp > 10) {
                    recommendations = 'Прохладная погода. Хорошее время для посещения музеев, кафе и культурных мероприятий.';
                    activity = 'Посещение выставки';
                    clothing = 'Свитер, куртка';
                } else if (city.temp > 0) {
                    recommendations = 'Холодно. Рекомендуются активные виды отдыха или уютные домашние посиделки с горячим чаем.';
                    activity = 'Домашний киновечер';
                    clothing = 'Теплая куртка, шапка';
                } else {
                    recommendations = 'Морозная погода. Лучше оставаться в тепле. Отличный повод посетить сауну или горячие источники.';
                    activity = 'Посещение сауны';
                    clothing = 'Термобелье, пуховик';
                }
                
                if (city.description.includes('дождь') || city.description.includes('Гроза')) {
                    recommendations += ' Возьмите зонт или дождевик.';
                } else if (city.description.includes('Снег')) {
                    recommendations += ' Будьте осторожны на дорогах, возможен гололед.';
                } else if (city.description.includes('Туман')) {
                    recommendations += ' Будьте внимательны на дорогах, видимость ограничена.';
                }
                
                recommendationsCard.innerHTML = `
                    <h3 style="margin-bottom: 20px; color: var(--primary-color);">Рекомендации на сегодня</h3>
                    <p style="color: #555; line-height: 1.7; margin-bottom: 20px;">${recommendations}</p>
                    <div style="display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap;">
                        <div style="display: flex; align-items: center; gap: 10px; background: rgba(93, 63, 211, 0.08); padding: 12px 15px; border-radius: 10px; flex: 1; min-width: 200px;">
                            <i class="fas fa-tshirt" style="color: var(--primary-color);"></i>
                            <div>
                                <div style="font-weight: 600; font-size: 0.9rem;">Одежда</div>
                                <div>${clothing}</div>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px; background: rgba(93, 63, 211, 0.08); padding: 12px 15px; border-radius: 10px; flex: 1; min-width: 200px;">
                            <i class="fas fa-hiking" style="color: var(--primary-color);"></i>
                            <div>
                                <div style="font-weight: 600; font-size: 0.9rem;">Активность</div>
                                <div>${activity}</div>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top: 20px; padding: 15px; background: rgba(255, 209, 102, 0.1); border-radius: 10px; border-left: 4px solid var(--accent-color);">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-lightbulb" style="color: var(--accent-color);"></i>
                            <div>
                                <div style="font-weight: 600;">Совет дня:</div>
                                <div>${city.temp > 20 ? 'Выпейте холодный лимонад' : city.temp > 10 ? 'Насладитесь прогулкой' : 'Заварите горячий травяной чай'} — это идеально подходит для сегодняшней погоды!</div>
                            </div>
                        </div>
                    </div>
                `;
                weatherContainer.appendChild(recommendationsCard);
                
                // Карточка с информацией об обновлении
                const updateCard = document.createElement('div');
                updateCard.className = 'weather-card';
                updateCard.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                        <div style="width: 50px; height: 50px; border-radius: 12px; background: rgba(93, 63, 211, 0.1); display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-sync-alt" style="color: var(--primary-color); font-size: 1.5rem;"></i>
                        </div>
                        <div>
                            <h4 style="color: var(--primary-color); margin-bottom: 5px;">Ежедневное обновление</h4>
                            <p style="color: #666; font-size: 0.9rem;">Погода автоматически меняется каждый день в 00:00</p>
                        </div>
                    </div>
                    <div style="background: rgba(93, 63, 211, 0.05); padding: 15px; border-radius: 10px; margin-top: 10px;">
                        <div style="font-size: 0.85rem; color: #666;">
                            <i class="fas fa-info-circle"></i> 
                            <strong>Как это работает:</strong> Погода генерируется на основе текущей даты и названия города, поэтому прогноз логически связан и не содержит противоречий!
                        </div>
                    </div>
                `;
                weatherContainer.appendChild(updateCard);
            }
            
            // Обработчик изменения города
            citySelect.addEventListener('change', function() {
                displayWeather(this.value);
            });
            
            // Кнопка обновления погоды (для демонстрации)
            const refreshWeatherBtn = document.createElement('button');
            refreshWeatherBtn.className = 'btn btn-secondary';
            refreshWeatherBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Обновить прогноз';
            refreshWeatherBtn.style.marginLeft = '15px';
            refreshWeatherBtn.addEventListener('click', function() {
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Обновление...';
                
                // Перегенерируем погоду для всех городов
                weatherData['mouskinsk'] = generateDailyWeather(1, 'Мышкинск');
                weatherData['listinsk'] = generateDailyWeather(2, 'Листинск');
                weatherData['kosmos'] = generateDailyWeather(3, 'Космос');
                weatherData['morozhensk'] = generateDailyWeather(4, 'Мороженск');
                weatherData['ulyanovsk'] = generateDailyWeather(5, 'Ульяновск');
                weatherData['barsuchye'] = generateDailyWeather(6, 'Барсучье');
                weatherData['lisiy-ostrov'] = generateDailyWeather(7, 'Лисий Остров');
                weatherData['yozhikovo'] = generateDailyWeather(8, 'Ёжиково');
                weatherData['zaichiy-gorod'] = generateDailyWeather(9, 'Заячий Город');
                
                setTimeout(() => {
                    displayWeather(citySelect.value);
                    this.innerHTML = '<i class="fas fa-sync-alt"></i> Обновить прогноз';
                    
                    // Показываем уведомление об обновлении
                    const notification = document.createElement('div');
                    notification.style.position = 'fixed';
                    notification.style.top = '100px';
                    notification.style.right = '20px';
                    notification.style.background = 'var(--gradient-primary)';
                    notification.style.color = 'white';
                    notification.style.padding = '15px 20px';
                    notification.style.borderRadius = '10px';
                    notification.style.boxShadow = '0 5px 15px rgba(0,0,0,0.2)';
                    notification.style.zIndex = '1000';
                    notification.innerHTML = '<i class="fas fa-check-circle"></i> Прогноз погоды обновлен!';
                    document.body.appendChild(notification);
                    
                    setTimeout(() => {
                        notification.remove();
                    }, 3000);
                }, 800);
            });
            
            // Добавляем кнопку в app-actions раздела погоды
            const weatherSection = document.getElementById('weather');
            const appActions = weatherSection.querySelector('.app-actions');
            appActions.appendChild(refreshWeatherBtn);
            
            // Инициализация
            displayWeather();
            
            // Автоматическое обновление погоды при загрузке (если прошли сутки)
            const lastWeatherUpdate = localStorage.getItem('lastWeatherUpdate');
            const today = new Date().toDateString();
            
            if (!lastWeatherUpdate || lastWeatherUpdate !== today) {
                localStorage.setItem('lastWeatherUpdate', today);
            }
        }
        
        // ==================== КАЛЕНДАРЬ ====================
        function initCalendar() {
            const calendarDays = document.getElementById('calendarDays');
            const currentMonthEl = document.getElementById('currentMonth');
            const prevMonthBtn = document.getElementById('prevMonth');
            const nextMonthBtn = document.getElementById('nextMonth');
            const todayBtn = document.getElementById('todayBtn');
            const todayEvents = document.getElementById('todayEvents');
            
            let currentDate = new Date();
            let currentMonth = currentDate.getMonth();
            let currentYear = currentDate.getFullYear();
            
            // События календаря
            const events = [
                { date: '2023-10-15', title: 'Открытие школы приключений Стаси', time: '10:00' },
                { date: '2023-10-16', title: 'Рекордный полет Крылатика', time: '14:30' },
                { date: '2023-10-18', title: 'Выставка моркови Ушастика', time: '09:00' },
                { date: '2023-10-20', title: 'Благотворительный забег Стаси', time: '16:00' },
                { date: '2023-10-22', title: 'Открытие школы драконов', time: '11:00' },
                { date: '2023-10-25', title: 'Презентация "Сада мечты"', time: '13:00' },
                { date: '2023-10-28', title: 'Доклад о пещерной экспедиции', time: '12:00' }
            ];
            
            function renderCalendar() {
                // Очищаем календарь
                calendarDays.innerHTML = '';
                
                // Обновляем заголовок месяца
                const monthNames = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];
                currentMonthEl.textContent = `${monthNames[currentMonth]} ${currentYear}`;
                
                // Первый день месяца
                const firstDay = new Date(currentYear, currentMonth, 1);
                // Последний день месяца
                const lastDay = new Date(currentYear, currentMonth + 1, 0);
                // Количество дней в месяце
                const daysInMonth = lastDay.getDate();
                // День недели первого дня месяца (0 - воскресенье, 1 - понедельник, ...)
                const firstDayIndex = firstDay.getDay() === 0 ? 6 : firstDay.getDay() - 1;
                
                // Добавляем пустые клетки до первого дня месяца
                for (let i = 0; i < firstDayIndex; i++) {
                    const emptyDay = document.createElement('div');
                    emptyDay.classList.add('empty');
                    calendarDays.appendChild(emptyDay);
                }
                
                // Добавляем дни месяца
                const today = new Date();
                const isCurrentMonth = today.getMonth() === currentMonth && today.getFullYear() === currentYear;
                
                for (let day = 1; day <= daysInMonth; day++) {
                    const dayElement = document.createElement('div');
                    dayElement.textContent = day;
                    
                    // Проверяем, является ли день сегодняшним
                    if (isCurrentMonth && day === today.getDate()) {
                        dayElement.classList.add('today');
                    }
                    
                    // Проверяем, есть ли события на этот день
                    const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                    const dayEvents = events.filter(event => event.date === dateStr);
                    
                    if (dayEvents.length > 0) {
                        dayElement.classList.add('event');
                    }
                    
                    calendarDays.appendChild(dayElement);
                }
                
                // Обновляем события на сегодня
                updateTodayEvents();
            }
            
            function updateTodayEvents() {
                const todayStr = new Date().toISOString().split('T')[0];
                const todayEventsList = events.filter(event => event.date === todayStr);
                
                todayEvents.innerHTML = '';
                
                if (todayEventsList.length === 0) {
                    todayEvents.innerHTML = '<p style="color: #777;">Событий на сегодня нет</p>';
                } else {
                    todayEventsList.forEach(event => {
                        const eventItem = document.createElement('div');
                        eventItem.className = 'event-item';
                        eventItem.innerHTML = `
                            <div class="event-time">${event.time}</div>
                            <div class="event-title">${event.title}</div>
                        `;
                        todayEvents.appendChild(eventItem);
                    });
                }
            }
            
            // Переключение месяцев
            prevMonthBtn.addEventListener('click', () => {
                currentMonth--;
                if (currentMonth < 0) {
                    currentMonth = 11;
                    currentYear--;
                }
                renderCalendar();
            });
            
            nextMonthBtn.addEventListener('click', () => {
                currentMonth++;
                if (currentMonth > 11) {
                    currentMonth = 0;
                    currentYear++;
                }
                renderCalendar();
            });
            
            // Кнопка "Сегодня"
            todayBtn.addEventListener('click', () => {
                currentDate = new Date();
                currentMonth = currentDate.getMonth();
                currentYear = currentDate.getFullYear();
                renderCalendar();
            });
            
            // Инициализация
            renderCalendar();
        }
        
        // ==================== КОНТАКТЫ ====================
        function initContacts() {
            const contactsContainer = document.getElementById('contactsContainer');
            
            const contacts = [
                {
                    id: 1,
                    name: 'Собака Стася',
                    role: 'Исследователь и путешественник',
                    phone: '+7 (900) 123-45-67',
                    email: 'stasya@zverlandia.ru',
                    character: 'dog'
                },
                {
                    id: 2,
                    name: 'Дракон Крылатик',
                    role: 'Хранитель небес и рекордсмен',
                    phone: '+7 (900) 234-56-78',
                    email: 'krylatik@zverlandia.ru',
                    character: 'dragon'
                },
                {
                    id: 3,
                    name: 'Кроль Ушастик',
                    role: 'Садовод и изобретатель',
                    phone: '+7 (900) 345-67-89',
                    email: 'ushastik@zverlandia.ru',
                    character: 'rabbit'
                },
                {
                    id: 4,
                    name: 'Мэр Мышкинска',
                    role: 'Глава города',
                    phone: '+7 (900) 456-78-90',
                    email: 'mayor@mouskinsk.ru',
                    character: 'other'
                },
                {
                    id: 5,
                    name: 'Профессор Дубов',
                    role: 'Ученый-ботаник',
                    phone: '+7 (900) 567-89-01',
                    email: 'dubov@zverlandia.ru',
                    character: 'other'
                },
                {
                    id: 6,
                    name: 'Пингвин Игорь',
                    role: 'Директор парка развлечений',
                    phone: '+7 (900) 678-90-12',
                    email: 'igor@zverlandia.ru',
                    character: 'other'
                }
            ];
            
            function displayContacts() {
                contactsContainer.innerHTML = '';
                
                contacts.forEach(contact => {
                    // Определяем иконку для аватара
                    let avatarIcon = 'fas fa-user';
                    if (contact.character === 'dog') {
                        avatarIcon = 'fas fa-dog';
                    } else if (contact.character === 'dragon') {
                        avatarIcon = 'fas fa-dragon';
                    } else if (contact.character === 'rabbit') {
                        avatarIcon = 'fas fa-paw';
                    }
                    
                    const contactCard = document.createElement('div');
                    contactCard.className = `contact-card ${contact.character}`;
                    contactCard.innerHTML = `
                        <div class="contact-avatar">
                            <i class="${avatarIcon}"></i>
                        </div>
                        <div class="contact-name">${contact.name}</div>
                        <div class="contact-role">${contact.role}</div>
                        <div class="contact-info">
                            <div class="contact-item">
                                <i class="fas fa-phone"></i>
                                <span>${contact.phone}</span>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-envelope"></i>
                                <span>${contact.email}</span>
                            </div>
                        </div>
                        <div style="display: flex; gap: 10px; margin-top: 20px; width: 100%;">
                            <button class="btn btn-secondary" style="flex: 1; padding: 10px;"><i class="fas fa-phone"></i> Позвонить</button>
                            <button class="btn btn-primary" style="flex: 1; padding: 10px;"><i class="fas fa-envelope"></i> Написать</button>
                        </div>
                    `;
                    contactsContainer.appendChild(contactCard);
                });
            }
            
            // Инициализация
            displayContacts();
        }
    </script>
</body>
</html>
